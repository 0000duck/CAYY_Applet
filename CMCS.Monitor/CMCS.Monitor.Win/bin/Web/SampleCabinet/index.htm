<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Untitled Page</title>
    <script type="text/javascript" src="Resources/js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="Resources/js/layer.min.js"></script>
    <script type="text/javascript" src="Resources/js/register.js"></script>
    <script type="text/javascript" src="../Resources/plugins/svg/svg.js"></script>
    <script type="text/javascript" src="../Resources/js/svgHelper.js"></script>
    <script type="text/javascript">

        $(function () {

        });
        var indexside = 0;
        var indexpage = 0;
        window.onload = function () {

        };
        function initpage() {
            dataHandler({ Key: "四项转换器", Type: "9999", Value: 3 });
            dataHandler({ Key: "二项转换器", Type: "9998", Value: 2 });
        }
        function LoadSamInfo(datas) {
            tempboxdatas = datas;
            reloadBox();
        }

        // 改变颜色
        // $element:SVG.jQuery对象
        // color:颜色
        function changeColorFill($elements, color) {
            $elements.each(function () {
                var $this = $(this);
                $this.css({ "fill": color });
            });
        }

        var tempboxdatas;
        function reloadBox() {
            var g = 204 * (indexside * 5 + indexpage);
            //            var g = 0 ;
            var temp = "";

            for (var i = 0; i < 12; i++) {
                temp += "<div class='guad-parent'>";
                for (var j = 0; j < 20; j++) {
                    temp += "<div class='guad_wc' onclick='showBoxDetail(" + i + ",this)'>A0101</div>";
                }
                temp += "</div>";
            }

            $('#sambox').html(temp);
        }

        function showBoxDetail(number, $this) {
            layer.tips('已存：2', $($this), {
                tips: [3, '#00a551'],
                time: 1000
            });
        }
        // 获取SVG jquery对象
        function getSVGjQuery(id) {
            return $(document.getElementById(id).getSVGDocument())
        }

        // 获取 svgCanvas1 SVG jquery对象
        function getCanvas1() {
            return getSVGjQuery("svgCanvas1");
        }

        // 请求数据 - 后台调用
        function requestData(datas) {
            for (var i = 0; i < datas.length; i++) {
                dataHandler(datas[i]);
            }
        }

        var angle = 1;
        // 处理数据
        function dataHandler(data) {

            try {
                // key_value
                if (data.Type == 0)
                    if (data.Tag == "ShowDiv")
                        CaclDiv($("#" + data.Key), data.Value, data.Value2);
                    else
                        $("#" + data.Key).html(data.Value);
                // json_data
                else if (data.Type == 1) {

                }
                // svg_text
                else if (data.Type == 2) {
                    getCanvas1().find("*[inkscape\\:label=" + data.Key + "]").html(data.Value);
                }
                // svg_color
                else if (data.Type == 3) {
                    svgChangeColor(getCanvas1().find("*[inkscape\\:label=" + data.Key + "]"), data.Value);
                }
                // svg_blinkcolor
                else if (data.Type == 7) {
                    svgChangeColor(getCanvas1().find("*[inkscape\\:label=" + data.Key + "]"), data.Value);
                    if (data.Value == "#FF0000" || data.Value == "Red") {
                        getCanvas1().find("*[inkscape\\:label=" + data.Key + "]").animate({ opacity: 0.25 }, 1000);
                        getCanvas1().find("*[inkscape\\:label=" + data.Key + "]").animate({ opacity: 1 }, 1000);
                    }
                }
                // svg_scroll
                else if (data.Type == 9999) {

                }
                // svg_scroll
                else if (data.Type == 9998) {
                    if (data.Value == 1) {
                        changeScroll(getCanvas1().find("*[inkscape\\:label=" + data.Key + "]"), "-12,477.5,219");
                    } if (data.Value == 2) {
                        changeScroll(getCanvas1().find("*[inkscape\\:label=" + data.Key + "]"), "0,477.5,219");
                    }
                }
                // svg_scroll
                else if (data.Type == 10000) {
                    tempstrs = data.Value;
                }
            } catch (e) {
            }
        }
        var newtimes = new Array("自动存查样管理系统", "化验室", "弃样工作站", "制样机1");
        // 测试
        var tempnums = 0;
        var tempstrs = "";

        //显示div存样信息
        function CaclDiv(divObj, exist, pass) {
            divObj.children().eq(0).css("height", (224 - pass - exist) * divObj.height() / 224);
            divObj.children().eq(1).css("height", pass * divObj.height() / 224);
            divObj.children().eq(2).css("height", exist * divObj.height() / 224);
        }

        // 测试 改变颜色
        function testColor() {
        }

        //加载样品传输信息
        function LoadSampleInfo(datas) {
            for (var nums = 1; nums <= 6; nums++) {
                getCanvas1().find("*[inkscape\\:label=UpdateTime" + nums + "]").html(datas[nums - 1].UpdateTime);
                getCanvas1().find("*[inkscape\\:label=Code" + nums + "]").html(datas[nums - 1].Code);
                getCanvas1().find("*[inkscape\\:label=SamType" + nums + "]").html(datas[nums - 1].SamType);
                getCanvas1().find("*[inkscape\\:label=Status" + nums + "]").html(datas[nums - 1].Status);
            }
        }

    </script>
    <style type="text/css">
        html, body {
            margin: 0px;
            padding: 0px;
            /*font-family: 微软雅黑;*/
            background-color: rgb(0, 0, 0);
        }

        .div-root {
            position: relative;
            margin: 0px auto;
            width: 100%;
            overflow: hidden;
            text-align: center;
        }

        .divMain {
            position: absolute;
            top: 455px;
            left: 950px;
            width: 583px;
            height: 241px;
            overflow: hidden;
            border: 1px solid #5C6065;
        }

        .button1 {
            position: absolute;
            width: 70px;
            height: 23px;
            font-family: 微软雅黑;
            font-size: 14px;
            cursor: pointer;
            vertical-align: middle;
        }

            .button1:hover {
                background-color: #00CED1;
                border-color: #00CED1;
                color: White;
            }

        /*异常table样式*/
        .table {
            border-collapse: collapse;
            border: 1px solid #5C6065;
            width: 100%;
        }

            .table td {
                border: 1px solid #5C6065;
            }

        .trTitle {
            background-color: #2C3E48;
            text-align: center;
            font-size: 20px;
            color: White;
            height: 40px;
        }

        .trContent {
            text-align: center;
            height: 30px;
        }

        /*出样table样式*/
        .SampleTable {
            border-collapse: collapse;
            border: 1px solid #5C6065;
            width: 100%;
        }

            .SampleTable td {
                border: 1px solid #5C6065;
            }

        .trSampleTitle {
            background-color: #2C3E48;
            text-align: center;
            font-size: 17px;
            font-family: 微软雅黑;
            color: White;
            height: 36px;
        }

        .trSampleContent {
            text-align: center;
            height: 34px;
            color: White;
        }

        .guad-parent {
            float: left;
            width: 270px;
            height: 190px;
            /*border: red 1px solid;*/
            background-color: #d0d2d3;
            margin: 0px 1px 1px 0px;
        }

        .guad_yc, .guad_wc, .guad_cq {
            width: 30px;
            height: 30px;
            border-radius: 30px;
            float: left;
            margin: 5px 18px 2px 18px;
            cursor: pointer;
            font-size: 6px;
            line-height: 30px;
        }

        .guad_wc {
            background-color: #a6a8ab;
        }

        .guad_yc {
            background-color: #00a551;
        }

        .guad_cq {
            background-color: #ec1c24;
        }
    </style>
</head>
<body onload="initpage()" style="background-color: #231F20;" onselectstart="return false;">
    <div class="div-root" id="divCanvas">
        <div id="sambox" style="width: 1090px;height: 583px;background-color:#404041;position: absolute;top: 318px;left: 87px;">
        </div>
        <embed id="svgCanvas1" src="Resources/AutoCupboardPneumaticTransfer.svg" type="image/svg+xml" />
    </div>
    <div id="createtable" style="width: 800px; height: 385px; display: none; overflow: auto;">
    </div>
    <input type="text" id="displayvalue" value="123" style="display: none;" />
</body>
</html>
